--to test things written on and around Nov 21

--hard coded values might have to be adjusted depending on values in database

--testing trigger to update Cart total and tax when quantities change
SELECT * FROM CartProduct;
SELECT * FROM Cart;
INSERT INTO CartProduct(cart_id, product_id, quantity) VALUES (12, 7, 5);

--testing trigger to condense lines in CartProduct with the same cart_id and product_id into one line
--when order is created with Cart
--cart_cleanup_trigger
SELECT * FROM "Order";
SELECT * FROM CartProduct;
INSERT INTO "Order" (customer_id, cart_id, status) 
    VALUES (2, 12, 'order placed');

--testing trigger to assign Cart to new Customer
SELECT * FROM Customer;
INSERT INTO Customer (email, password_hash, full_name, phone_number, birthday, billing_address) 
    VALUES ('bb@example.com', 'hash11', 'BobbyBob', '911', TO_DATE('1980-05-15', 'YYYY-MM-DD'), '321 Main St, City, Country');


--testing procedure gen_order
BEGIN
    gen_order(10);
END;    
/

SELECT * FROM Cart;
SELECT * FROM "Order";

--testing procedure empty_cart
INSERT INTO CartProduct(cart_id, product_id, quantity) VALUES (12, 7, 5);
SELECT * FROM CartProduct;

BEGIN
    empty_cart(1);
END;
/

